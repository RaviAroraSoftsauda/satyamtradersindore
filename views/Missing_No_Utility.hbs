{{> header_new}}
{{> top_bar_new}}
{{> menu_new}}
<script src="js/jquery.min.js" type="text/javascript"></script>
<div class="page-wrapper-row full-height">
    <div class="page-wrapper-middle">
        <!-- BEGIN CONTAINER -->
        <div class="page-container">
            <!-- BEGIN CONTENT -->
            <div class="page-content-wrapper">
                <!-- BEGIN CONTENT BODY -->
                <!-- BEGIN PAGE HEAD-->
                <div class="page-head">
                    <div class="container-fluid">
                        <!-- BEGIN PAGE TITLE -->
                        <div class="page-title">
                            <h1>{{compnm}} -{{divnm}}- {{dateformat  sdate 'DD/MM/YYYY'}} - {{dateformat edate
                                'DD/MM/YYYY'}} {{usrnm}}
                                <small>
                                    <!-- BEGIN PAGE BREADCRUMBS -->
                                    <ul class="page-breadcrumb breadcrumb">
                                        <li>
                                            <a href="/userright/index">Home</a>
                                            <i class="fa fa-circle"></i>
                                        </li>
                                        <li>
                                            Party Type List
                                        </li>
                                    </ul>
                                    <!-- END PAGE BREADCRUMBS -->
                                </small>
                            </h1>
                        </div>
                        <!-- END PAGE TITLE -->
                    </div>
                </div>
                <!-- END PAGE HEAD-->
                <!-- BEGIN PAGE CONTENT BODY -->
                <div class="page-content">
                    <div class="container-fluid">
                        <!-- BEGIN PAGE CONTENT INNER -->
                        <div class="page-content-inner">
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="panel panel-primary">
                                        <div class="panel-heading" align="center">
                                          Module List
                                        </div>
                                        <div class="panel-body">
                                            <div class="table-responsive">
                                                <table id="userTable" class="userTable table table-striped table-bordered table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th></th>
                                                            <th>Module Name</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {{#each moduleMast as |value key|}}
                                                        <tr>
                                                            <td></td>
                                                            <td><a onclick="getBookInMissingNo('{{this.ModuleName}}')">{{this.ModuleName}}</a></td>
                                                        </tr>
                                                        {{/each}}
                                                    </tbody>
                                                    <tfoot>
                                                        <tr>
                                                            <th class="excludesearch"></th>
                                                            <th>Module Name</th>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="panel panel-primary">
                                        <div class="panel-heading" id="formheading" align="center">
                                            <span></span> Book Name
                                        </div>
                                        <div class="panel-body" id="getBookInMissingNo" align="center">

                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="panel panel-primary">
                                        <div class="panel-heading" id="formheading" align="center">
                                            <span></span> Missing Number
                                        </div>
                                        <div class="panel-body">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group clearfix">
                                                        <label for="" class="control-label col-md-2">Period</label>
                                                        <div class="col-md-5">
                                                            <input type="text" class="form-control" name="filterstartdate" 
                                                                value="{{dateformat  sdate 'DD/MM/YYYY'}} to {{dateformat Date.now 'DD/MM/YYYY'}}" id="contractrange"
                                                                autocomplete="off" />
                                                        </div>
                                                        <label for="" class="control-label col-md-2">Book</label>
                                                        <div class="col-md-3">
                                                            <input type="text" class="form-control" name="Book" id="Book" readonly/>
                                                            <input type="hidden" class="form-control" name="Module" id="Module"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <label for="" class="control-label col-md-2">Between</label>
                                                    <div class="col-md-2">
                                                        <input type="text" class="form-control" name="From" id="From" placeholder="From"/>
                                                    </div>
                                                    {{!-- <label for="" class="control-label col-md-2">To</label> --}}
                                                    <div class="col-md-3">
                                                        <input type="text" class="form-control" name="To" id="To" placeholder="To"/>
                                                    </div>    
                                                    <div class="col-md-2">
                                                        <div class="form-group clearfix">
                                                            <button type="button" class="btn btn-success" onclick="getMissingNo()">Proceed..</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12" id="MissingnumberShow">

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- END PAGE CONTENT INNER -->
                    </div>
                </div>
                <!-- END PAGE CONTENT BODY -->
                <!-- END CONTENT BODY -->
            </div>
            <!-- END CONTENT -->
        </div>
        <!-- END CONTAINER -->
    </div>
</div>
{{> footer_new}}
{{> scripts_new}}
<style>
    .tabler>tbody>tr>td, .tabler>tbody>tr>th, .tabler>tfoot>tr>td, .tabler>tfoot>tr>th {
    padding: 0px;
    line-height: 1.42857143;
    vertical-align: top;
    border-top: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
}
strong{
    font-size: 14px;
}
</style>
<script>
    $(document).ready(function () {
        dattable = jQuery('.userTable').DataTable({
                        "colReorder": true,
                        "paging":false, 
                        "autoWidth": false,
                        "ordering":false,
                    })
                    $('#userTable tfoot th').not('.excludesearch').each(function () {
                        var title = $(this).text();
                        $(this).html('<input type="text" class="form-control resizing-input" placeholder="Search ' + title + '" autocomplete="false" />');
                        function resizeInput() {
                            var content =$(this).val().length > 0 ? $(this).val() : $(this).prop("placeholder");
                            var widthTester = $("<span>"+content+"</span>").hide();
                              widthTester.insertAfter($(this));
                             $(this).css("width",widthTester.width()+"px");
                              widthTester.remove();
                           }
                         $('.resizing-input').focusout(resizeInput).each(resizeInput);
                    });
                    $('#userTable tfoot').insertBefore('#userTable thead');
                    $('#userTableOut tfoot th').not('.excludesearchout').each(function () {
                        var title = $(this).text();
                        $(this).html('<input type="text" class="form-control resizing-input" placeholder="Search ' + title + '" autocomplete="false" />');
                        function resizeInput() {
                            var content =$(this).val().length > 0 ? $(this).val() : $(this).prop("placeholder");
                            var widthTester = $("<span>"+content+"</span>").hide();
                              widthTester.insertAfter($(this));
                             $(this).css("width",widthTester.width()+"px");
                              widthTester.remove();
                           }
                         $('.resizing-input').focusout(resizeInput).each(resizeInput);
                    });
                    $('#userTableOut tfoot').insertBefore('#userTableOut thead');
                    dattable.columns().every( function () {
                        var that = this;
                        $( 'input', this.footer() ).on( 'keyup change clear', function () {
                        if ( that.search() !== this.value ) {
                        that
                          .search( this.value )
                          .draw();
                        }
                        });
                    });
        });
</script>